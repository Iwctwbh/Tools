import{D as v,d as S,i as d,j as h,k as w,x as R,A as C,r as m,o as I,e as L,w as u,f as p,c as k,l as y,F as b,b as V}from"./index-6d59523f.js";function x(s){var a="    ";if(isNaN(parseInt(s)))a=s;else switch(s){case 1:a=" ";break;case 2:a="  ";break;case 3:a="   ";break;case 4:a="    ";break;case 5:a="     ";break;case 6:a="      ";break;case 7:a="       ";break;case 8:a="        ";break;case 9:a="         ";break;case 10:a="          ";break;case 11:a="           ";break;case 12:a="            ";break}for(var e=[`
`],o=0;o<100;o++)e.push(e[o]+a);return e}function g(){this.step="    ",this.shift=x(this.step)}g.prototype.xml=function(s,a){var e=s.replace(/>\s{0,}</g,"><").replace(/</g,"~::~<").replace(/\s*xmlns\:/g,"~::~xmlns:").replace(/\s*xmlns\=/g,"~::~xmlns=").split("~::~"),o=e.length,l=!1,n=0,t="",r=0,i=a?x(a):this.shift;for(r=0;r<o;r++)e[r].search(/<!/)>-1?(t+=i[n]+e[r],l=!0,(e[r].search(/-->/)>-1||e[r].search(/\]>/)>-1||e[r].search(/!DOCTYPE/)>-1)&&(l=!1)):e[r].search(/-->/)>-1||e[r].search(/\]>/)>-1?(t+=e[r],l=!1):/^<\w/.exec(e[r-1])&&/^<\/\w/.exec(e[r])&&/^<[\w:\-\.\,]+/.exec(e[r-1])==/^<\/[\w:\-\.\,]+/.exec(e[r])[0].replace("/","")?(t+=e[r],l||n--):e[r].search(/<\w/)>-1&&e[r].search(/<\//)==-1&&e[r].search(/\/>/)==-1?t=l?t+=e[r]:t+=i[n++]+e[r]:e[r].search(/<\w/)>-1&&e[r].search(/<\//)>-1?t=l?t+=e[r]:t+=i[n]+e[r]:e[r].search(/<\//)>-1?t=l?t+=e[r]:t+=i[--n]+e[r]:e[r].search(/\/>/)>-1?t=l?t+=e[r]:t+=i[n]+e[r]:e[r].search(/<\?/)>-1||e[r].search(/xmlns\:/)>-1||e[r].search(/xmlns\=/)>-1?t+=i[n]+e[r]:t+=e[r];return t[0]==`
`?t.slice(1):t};g.prototype.json=function(s,e){var e=e||this.step;return typeof JSON>"u"?s:typeof s=="string"?JSON.stringify(JSON.parse(s),null,e):typeof s=="object"?JSON.stringify(s,null,e):s};g.prototype.css=function(s,a){var e=s.replace(/\s{1,}/g," ").replace(/\{/g,"{~::~").replace(/\}/g,"~::~}~::~").replace(/\;/g,";~::~").replace(/\/\*/g,"~::~/*").replace(/\*\//g,"*/~::~").replace(/~::~\s{0,}~::~/g,"~::~").split("~::~"),o=e.length,l=0,n="",t=0,r=a?x(a):this.shift;for(t=0;t<o;t++)/\{/.exec(e[t])?n+=r[l++]+e[t]:/\}/.exec(e[t])?n+=r[--l]+e[t]:(/\*\\/.exec(e[t]),n+=r[l]+e[t]);return n.replace(/^\n{1,}/,"")};function D(s,a){return a-(s.replace(/\(/g,"").length-s.replace(/\)/g,"").length)}function A(s,a){return s.replace(/\s{1,}/g," ").replace(/ AND /ig,"~::~"+a+a+"AND ").replace(/ BETWEEN /ig,"~::~"+a+"BETWEEN ").replace(/ CASE /ig,"~::~"+a+"CASE ").replace(/ ELSE /ig,"~::~"+a+"ELSE ").replace(/ END /ig,"~::~"+a+"END ").replace(/ FROM /ig,"~::~FROM ").replace(/ GROUP\s{1,}BY/ig,"~::~GROUP BY ").replace(/ HAVING /ig,"~::~HAVING ").replace(/ IN /ig," IN ").replace(/ JOIN /ig,"~::~JOIN ").replace(/ CROSS~::~{1,}JOIN /ig,"~::~CROSS JOIN ").replace(/ INNER~::~{1,}JOIN /ig,"~::~INNER JOIN ").replace(/ LEFT~::~{1,}JOIN /ig,"~::~LEFT JOIN ").replace(/ RIGHT~::~{1,}JOIN /ig,"~::~RIGHT JOIN ").replace(/ ON /ig,"~::~"+a+"ON ").replace(/ OR /ig,"~::~"+a+a+"OR ").replace(/ ORDER\s{1,}BY/ig,"~::~ORDER BY ").replace(/ OVER /ig,"~::~"+a+"OVER ").replace(/\(\s{0,}SELECT /ig,"~::~(SELECT ").replace(/\)\s{0,}SELECT /ig,")~::~SELECT ").replace(/ THEN /ig," THEN~::~"+a).replace(/ UNION /ig,"~::~UNION~::~").replace(/ USING /ig,"~::~USING ").replace(/ WHEN /ig,"~::~"+a+"WHEN ").replace(/ WHERE /ig,"~::~WHERE ").replace(/ WITH /ig,"~::~WITH ").replace(/ ALL /ig," ALL ").replace(/ AS /ig," AS ").replace(/ ASC /ig," ASC ").replace(/ DESC /ig," DESC ").replace(/ DISTINCT /ig," DISTINCT ").replace(/ EXISTS /ig," EXISTS ").replace(/ NOT /ig," NOT ").replace(/ NULL /ig," NULL ").replace(/ LIKE /ig," LIKE ").replace(/\s{0,}SELECT /ig,"SELECT ").replace(/\s{0,}UPDATE /ig,"UPDATE ").replace(/ SET /ig," SET ").replace(/~::~{1,}/g,"~::~").split("~::~")}g.prototype.sql=function(s,a){var e=s.replace(/\s{1,}/g," ").replace(/\'/ig,"~::~'").split("~::~"),o=e.length,l=[],n=0,t=this.step,r=0,i="",c=0,f=a?x(a):this.shift;for(c=0;c<o;c++)c%2?l=l.concat(e[c]):l=l.concat(A(e[c],t));for(o=l.length,c=0;c<o;c++)r=D(l[c],r),/\s{0,}\s{0,}SELECT\s{0,}/.exec(l[c])&&(l[c]=l[c].replace(/\,/g,`,
`+t+t)),/\s{0,}\s{0,}SET\s{0,}/.exec(l[c])&&(l[c]=l[c].replace(/\,/g,`,
`+t+t)),/\s{0,}\(\s{0,}SELECT\s{0,}/.exec(l[c])?(n++,i+=f[n]+l[c]):/\'/.exec(l[c])?(r<1&&n&&n--,i+=l[c]):(i+=f[n]+l[c],r<1&&n&&n--);return i=i.replace(/^\n{1,}/,"").replace(/\n{1,}/g,`
`),i};g.prototype.xmlmin=function(s,a){var e=a?s:s.replace(/\<![ \r\n\t]*(--([^\-]|[\r\n]|-[^\-])*--[ \r\n\t]*)\>/g,"").replace(/[ \r\n\t]{1,}xmlns/g," xmlns");return e.replace(/>\s{0,}</g,"><")};g.prototype.jsonmin=function(s){return typeof JSON>"u"?s:JSON.stringify(JSON.parse(s),null,0)};g.prototype.cssmin=function(s,a){var e=a?s:s.replace(/\/\*([^*]|[\r\n]|(\*+([^*/]|[\r\n])))*\*+\//g,"");return e.replace(/\s{1,}/g," ").replace(/\{\s{1,}/g,"{").replace(/\}\s{1,}/g,"}").replace(/\;\s{1,}/g,";").replace(/\/\*\s{1,}/g,"/*").replace(/\*\/\s{1,}/g,"*/")};g.prototype.sqlmin=function(s){return s.replace(/\s{1,}/g," ").replace(/\s{1,}\(/,"(").replace(/\s{1,}\)/,")")};var J=new g;const H=v(J),T=S({__name:"textarea-row-number",props:{textareaId:{default:Math.random().toString(36).substring(2)},textRowNumberId:{default:Math.random().toString(36).substring(2)},textarea:{}},setup(s,{expose:a}){const e=s,o=d("");let l=null,n=null;const t=h(()=>e.textareaId),r=h(()=>e.textRowNumberId),i=d("");return w(i,()=>{let c=i.value.split(`
`).length;o.value=[...Array(c)].map((f,E)=>E+1).join(`
`)}),R(()=>{C(()=>{n=document.getElementById(t.value),l=document.getElementById(r.value),n.addEventListener("scroll",()=>l.scrollTop=n.scrollTop),l.addEventListener("scroll",()=>n.scrollTop=l.scrollTop)})}),a({textValue:i}),(c,f)=>{const E=m("el-input"),_=m("el-col"),O=m("el-row");return I(),L(O,{style:{"padding-top":"20px"}},{default:u(()=>[p(_,{span:2,style:{"max-width":"50px"}},{default:u(()=>[p(E,{id:r.value,type:"textarea",modelValue:o.value,"onUpdate:modelValue":f[0]||(f[0]=N=>o.value=N),readonly:"",resize:"none",autosize:{minRows:15,maxRows:15},style:{width:"100%"},class:"blackshopClass"},null,8,["id","modelValue"])]),_:1}),p(_,{span:22},{default:u(()=>[p(E,{id:t.value,type:"textarea",modelValue:i.value,"onUpdate:modelValue":f[1]||(f[1]=N=>i.value=N),resize:"none",autosize:{minRows:15,maxRows:15},style:{width:"100%"},class:"right_textarea"},null,8,["id","modelValue"])]),_:1})]),_:1})}}});const B=V("h1",{class:"title"}," HTML 压缩/解压 ",-1),M=S({__name:"HTMLXMLCompress",setup(s){const a=d(),e=d(),o=()=>{a.value.textValue=H.xml(e.value.textValue)},l=()=>{let n=a.value.textValue;if(n.length==0){e.value.textValue="待压缩的HTML不能为空！";return}e.value.textValue=n.replace(new RegExp(/\n+/g),"").replace(new RegExp(/\/\*.*?\*\//ig),"").replace(new RegExp(/>\s{2,}/ig),">").replace(new RegExp(/\s{2,}</ig),"<")};return(n,t)=>{const r=m("el-button"),i=m("el-col"),c=m("el-row");return I(),k(b,null,[B,p(c,{style:{"justify-content":"center"}},{default:u(()=>[p(i,{lg:2},{default:u(()=>[p(r,{style:{},size:"large",type:"primary",onClick:l},{default:u(()=>[y(" 压缩 ")]),_:1})]),_:1}),p(i,{lg:2},{default:u(()=>[p(r,{style:{},size:"large",type:"primary",onClick:o},{default:u(()=>[y(" 解压 ")]),_:1})]),_:1})]),_:1}),p(c,{style:{"justify-content":"center"}},{default:u(()=>[p(i,{lg:12},{default:u(()=>[p(T,{ref_key:"areaText",ref:a,style:{overflow:"hidden"}},null,512)]),_:1}),p(i,{lg:12},{default:u(()=>[p(T,{"textarea-id":"textareaOut",ref_key:"areaText2",ref:e},null,512)]),_:1})]),_:1})],64)}}});export{M as default};
